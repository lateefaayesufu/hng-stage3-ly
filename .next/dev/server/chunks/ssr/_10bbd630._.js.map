{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HomePC/Desktop/hng-stage3-ly/src/components/Summary/Summary.tsx"],"sourcesContent":["\"use client\"\r\nimport Image from \"next/image\"\r\nimport React, { useContext, useEffect, useState } from \"react\"\r\nimport { CartContext } from \"../../context/CartContext\"\r\nimport { motion } from \"framer-motion\"\r\n\r\ninterface CartItem {\r\n  id: number;\r\n  name: string;\r\n  image: string;\r\n  price: number;\r\n  quantity: number;\r\n}\r\n\r\nexport default function Summary() {\r\n  const context = useContext(CartContext)\r\n  if (!context) {\r\n    throw new Error('Summary must be used within a CartContextProvider')\r\n  }\r\n  const { cart, totalPriceCalc } = context\r\n  const [mounted, setMounted] = useState(false)\r\n\r\n  useEffect(() => {\r\n    setMounted(true)\r\n  }, [])\r\n\r\n  if (!mounted) return null\r\n\r\n  const cartTotal = totalPriceCalc()\r\n\r\n  return (\r\n    <div className=\"flex flex-col gap-y-8\">\r\n      <div className=\"flex justify-between\">\r\n        <h6>Summary</h6>\r\n      </div>\r\n      {cart.length !== 0 ? (\r\n        cart.map((item: CartItem) => (\r\n          <div\r\n            key={item.id}\r\n            className=\"flex w-full justify-between items-center gap-x-4 pb-6\"\r\n          >\r\n            <div className=\"w-[64px] h-[64px]\">\r\n              <Image\r\n                src={item.image}\r\n                width={64}\r\n                height={64}\r\n                alt={item.name}\r\n                className=\"rounded-md object-cover\"\r\n              />\r\n            </div>\r\n            <div className=\"flex flex-1 items-start flex-col\">\r\n              <h6 className=\"text-[15px] tracking-normal\">{item.name}</h6>\r\n              <p className=\"font-bold text-black/50\">\r\n                ${item.price.toLocaleString()}\r\n              </p>\r\n            </div>\r\n            <div className=\"h-[49px]\">\r\n              <p className=\"text-black/50 font-bold\">x{item.quantity}</p>\r\n            </div>\r\n          </div>\r\n        ))\r\n      ) : (\r\n        <p className=\"text-center text-black/50\">Your cart is empty!</p>\r\n      )}\r\n      <div className=\"flex flex-col gap-y-3\">\r\n        <div className=\"flex justify-between\">\r\n          <p className=\"uppercase text-black/50\">Total</p>\r\n          <h6>${cartTotal.toLocaleString()}</h6>\r\n        </div>\r\n        <div className=\"flex justify-between\">\r\n          <p className=\"uppercase text-black/50\">Shipping</p>\r\n          <h6>${cartTotal !== 0 ? \"50\" : \"0\"}</h6>\r\n        </div>\r\n        <div className=\"flex justify-between\">\r\n          <p className=\"uppercase text-black/50\">VAT (Included)</p>\r\n          <h6>${Math.floor((cartTotal * 20) / 100).toLocaleString()}</h6>\r\n        </div>\r\n        <div className=\"flex justify-between mt-4\">\r\n          <p className=\"uppercase text-black/50\">Grand Total</p>\r\n          <h6 className=\"text-dark-salmon\">\r\n            ${cartTotal !== 0 ? (cartTotal + 50).toLocaleString() : \"0\"}\r\n          </h6>\r\n        </div>\r\n      </div>\r\n      <motion.button\r\n        className=\"mt-8 bg-dark-salmon text-white font-bold uppercase w-full h-[48px] text-[13px] tracking-[1px] disabled:opacity-50 hover:bg-salmon\"\r\n        form=\"checkout-form\"\r\n        type=\"submit\"\r\n        disabled={cart.length === 0}\r\n        whileHover={{ scale: 1.05 }}\r\n        whileTap={{ scale: 0.95 }}\r\n      >\r\n        Continue & Pay\r\n      </motion.button>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AAJA;;;;;;AAce,SAAS;IACtB,MAAM,UAAU,IAAA,mNAAU,EAAC,6IAAW;IACtC,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,MAAM,EAAE,IAAI,EAAE,cAAc,EAAE,GAAG;IACjC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,WAAW;IACb,GAAG,EAAE;IAEL,IAAI,CAAC,SAAS,OAAO;IAErB,MAAM,YAAY;IAElB,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;8BAAG;;;;;;;;;;;YAEL,KAAK,MAAM,KAAK,IACf,KAAK,GAAG,CAAC,CAAC,qBACR,8OAAC;oBAEC,WAAU;;sCAEV,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC,wIAAK;gCACJ,KAAK,KAAK,KAAK;gCACf,OAAO;gCACP,QAAQ;gCACR,KAAK,KAAK,IAAI;gCACd,WAAU;;;;;;;;;;;sCAGd,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAG,WAAU;8CAA+B,KAAK,IAAI;;;;;;8CACtD,8OAAC;oCAAE,WAAU;;wCAA0B;wCACnC,KAAK,KAAK,CAAC,cAAc;;;;;;;;;;;;;sCAG/B,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAE,WAAU;;oCAA0B;oCAAE,KAAK,QAAQ;;;;;;;;;;;;;mBAnBnD,KAAK,EAAE;;;;0CAwBhB,8OAAC;gBAAE,WAAU;0BAA4B;;;;;;0BAE3C,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAE,WAAU;0CAA0B;;;;;;0CACvC,8OAAC;;oCAAG;oCAAE,UAAU,cAAc;;;;;;;;;;;;;kCAEhC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAE,WAAU;0CAA0B;;;;;;0CACvC,8OAAC;;oCAAG;oCAAE,cAAc,IAAI,OAAO;;;;;;;;;;;;;kCAEjC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAE,WAAU;0CAA0B;;;;;;0CACvC,8OAAC;;oCAAG;oCAAE,KAAK,KAAK,CAAC,AAAC,YAAY,KAAM,KAAK,cAAc;;;;;;;;;;;;;kCAEzD,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAE,WAAU;0CAA0B;;;;;;0CACvC,8OAAC;gCAAG,WAAU;;oCAAmB;oCAC7B,cAAc,IAAI,CAAC,YAAY,EAAE,EAAE,cAAc,KAAK;;;;;;;;;;;;;;;;;;;0BAI9D,8OAAC,oMAAM,CAAC,MAAM;gBACZ,WAAU;gBACV,MAAK;gBACL,MAAK;gBACL,UAAU,KAAK,MAAM,KAAK;gBAC1B,YAAY;oBAAE,OAAO;gBAAK;gBAC1B,UAAU;oBAAE,OAAO;gBAAK;0BACzB;;;;;;;;;;;;AAKP","debugId":null}},
    {"offset": {"line": 274, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HomePC/Desktop/hng-stage3-ly/convex/_generated/api.js"],"sourcesContent":["/* eslint-disable */\n/**\n * Generated `api` utility.\n *\n * THIS CODE IS AUTOMATICALLY GENERATED.\n *\n * To regenerate, run `npx convex dev`.\n * @module\n */\n\nimport { anyApi, componentsGeneric } from \"convex/server\";\n\n/**\n * A utility for referencing Convex functions in your app's API.\n *\n * Usage:\n * ```js\n * const myFunctionReference = api.myModule.myFunction;\n * ```\n */\nexport const api = anyApi;\nexport const internal = anyApi;\nexport const components = componentsGeneric();\n"],"names":[],"mappings":"AAAA,kBAAkB,GAClB;;;;;;;CAOC;;;;;;;;AAED;AAAA;AAAA;;AAUO,MAAM,MAAM,gKAAM;AAClB,MAAM,WAAW,gKAAM;AACvB,MAAM,aAAa,IAAA,2MAAiB","debugId":null}},
    {"offset": {"line": 300, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HomePC/Desktop/hng-stage3-ly/src/components/Form/Form.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport React, { useState, useContext } from \"react\"\r\nimport { useFormik } from \"formik\"\r\nimport * as Yup from \"yup\"\r\nimport ThankYouModal from \"../Modal/ThankYouModal\"\r\nimport { useMutation } from \"convex/react\"\r\nimport { api } from \"../../../convex/_generated/api\"\r\nimport { CartContext } from \"../../context/CartContext\"\r\nimport { useRouter } from \"next/navigation\"\r\n\r\ninterface FormValues {\r\n  name: string;\r\n  email: string;\r\n  phone: string;\r\n  address: string;\r\n  zip: string;\r\n  city: string;\r\n  country: string;\r\n  payment: \"eMoney\" | \"cod\";\r\n}\r\n\r\n  interface OrderItem {\r\n    productId: string;\r\n    name: string;\r\n    price: number;\r\n    quantity: number;\r\n    image: string;\r\n  }\r\n\r\n    interface OrderData {\r\n      customerName: string;\r\n      customerEmail: string;\r\n      customerPhone: string;\r\n      shippingAddress: string;\r\n      city: string;\r\n      country: string;\r\n      zipCode: string;\r\n      items: OrderItem[];\r\n        subtotal: number;\r\n        shipping: number;\r\n        tax: number;\r\n        grandTotal: number;\r\n      paymentMethod: string;\r\n    }\r\n\r\n      const calculateOrderTotals = (items: OrderItem[]) => {\r\n        const subtotal = items.reduce((total, item) => total + item.price * item.quantity, 0);\r\n        const shipping = 50; // Fixed shipping cost\r\n        const tax = Math.round(subtotal * 0.2); // 20% tax\r\n        const grandTotal = subtotal + shipping + tax;\r\n  \r\n        return { subtotal, shipping, tax, grandTotal };\r\n      };\r\n\r\nexport default function Form() {\r\n  const context = useContext(CartContext)\r\n  if (!context) throw new Error(\"Form must be used within CartContextProvider\")\r\n  \r\n    const { cart } = context\r\n  const createOrderMutation = useMutation(api.orders.createOrder)\r\n  const router = useRouter()\r\n  const [showModal, setShowModal] = useState(false)\r\n  const [submitting, setSubmitting] = useState(false)\r\n\r\n  const phoneRegExp =\r\n    /^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/\r\n\r\n  const formik = useFormik<FormValues>({\r\n    initialValues: {\r\n      name: \"\",\r\n      email: \"\",\r\n      phone: \"\",\r\n      address: \"\",\r\n      zip: \"\",\r\n      city: \"\",\r\n      country: \"\",\r\n      payment: \"eMoney\",\r\n    },\r\n    validationSchema: Yup.object({\r\n      name: Yup.string().required(\"Your name is required\"),\r\n      email: Yup.string()\r\n        .email(\"Wrong format\")\r\n        .required(\"Your email is required\"),\r\n      phone: Yup.string()\r\n        .matches(phoneRegExp, \"Wrong format\")\r\n        .required(\"Your phone number is required\"),\r\n      address: Yup.string().required(\"Your address is required\"),\r\n      zip: Yup.string().required(\"Zip code is required\"),\r\n      city: Yup.string().required(\"Your city is required\"),\r\n      country: Yup.string().required(\"Your country is required\"),\r\n      payment: Yup.string()\r\n        .required(\"Select a payment method\")\r\n        .oneOf([\"eMoney\", \"cod\"]),\r\n    }),\r\n    onSubmit: async (values) => {\r\n      try {\r\n        setSubmitting(true)\r\n        console.log(\"Submitting order...\")\r\n          const items = cart.map(item => ({\r\n            productId: item.id.toString(),\r\n            name: item.name,\r\n            price: item.price,\r\n            quantity: item.quantity,\r\n            image: item.image\r\n          }));\r\n          const totals = calculateOrderTotals(items);\r\n\r\n        const order = await createOrderMutation({\r\n            customerName: values.name,\r\n            customerEmail: values.email,\r\n            customerPhone: values.phone,\r\n            shippingAddress: values.address,\r\n            city: values.city,\r\n            country: values.country,\r\n            zipCode: values.zip,\r\n            paymentMethod: values.payment,\r\n            items,\r\n            ...totals,\r\n        })\r\n        setShowModal(true)\r\n      } catch (error) {\r\n        console.error(\"Error submitting order:\", error)\r\n      } finally {\r\n        setSubmitting(false)\r\n      }\r\n    },\r\n  })\r\n\r\n  return (\r\n    <form\r\n      onSubmit={formik.handleSubmit}\r\n      className=\"bg-white rounded-lg p-6 md:p-8 lg:p-12 w-full lg:w-2/3\"\r\n    >\r\n      <h1 className=\"text-3xl font-bold uppercase mb-8\">Checkout</h1>\r\n      {/* rest of the form JSX */}\r\n    </form>\r\n  )\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AATA;;;;;;;;;AA8CM,MAAM,uBAAuB,CAAC;IAC5B,MAAM,WAAW,MAAM,MAAM,CAAC,CAAC,OAAO,OAAS,QAAQ,KAAK,KAAK,GAAG,KAAK,QAAQ,EAAE;IACnF,MAAM,WAAW,IAAI,sBAAsB;IAC3C,MAAM,MAAM,KAAK,KAAK,CAAC,WAAW,MAAM,UAAU;IAClD,MAAM,aAAa,WAAW,WAAW;IAEzC,OAAO;QAAE;QAAU;QAAU;QAAK;IAAW;AAC/C;AAES,SAAS;IACtB,MAAM,UAAU,IAAA,mNAAU,EAAC,6IAAW;IACtC,IAAI,CAAC,SAAS,MAAM,IAAI,MAAM;IAE5B,MAAM,EAAE,IAAI,EAAE,GAAG;IACnB,MAAM,sBAAsB,IAAA,uKAAW,EAAC,kIAAG,CAAC,MAAM,CAAC,WAAW;IAC9D,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAE7C,MAAM,cACJ;IAEF,MAAM,SAAS,IAAA,4JAAS,EAAa;QACnC,eAAe;YACb,MAAM;YACN,OAAO;YACP,OAAO;YACP,SAAS;YACT,KAAK;YACL,MAAM;YACN,SAAS;YACT,SAAS;QACX;QACA,kBAAkB,6IAAU,CAAC;YAC3B,MAAM,6IAAU,GAAG,QAAQ,CAAC;YAC5B,OAAO,6IAAU,GACd,KAAK,CAAC,gBACN,QAAQ,CAAC;YACZ,OAAO,6IAAU,GACd,OAAO,CAAC,aAAa,gBACrB,QAAQ,CAAC;YACZ,SAAS,6IAAU,GAAG,QAAQ,CAAC;YAC/B,KAAK,6IAAU,GAAG,QAAQ,CAAC;YAC3B,MAAM,6IAAU,GAAG,QAAQ,CAAC;YAC5B,SAAS,6IAAU,GAAG,QAAQ,CAAC;YAC/B,SAAS,6IAAU,GAChB,QAAQ,CAAC,2BACT,KAAK,CAAC;gBAAC;gBAAU;aAAM;QAC5B;QACA,UAAU,OAAO;YACf,IAAI;gBACF,cAAc;gBACd,QAAQ,GAAG,CAAC;gBACV,MAAM,QAAQ,KAAK,GAAG,CAAC,CAAA,OAAQ,CAAC;wBAC9B,WAAW,KAAK,EAAE,CAAC,QAAQ;wBAC3B,MAAM,KAAK,IAAI;wBACf,OAAO,KAAK,KAAK;wBACjB,UAAU,KAAK,QAAQ;wBACvB,OAAO,KAAK,KAAK;oBACnB,CAAC;gBACD,MAAM,SAAS,qBAAqB;gBAEtC,MAAM,QAAQ,MAAM,oBAAoB;oBACpC,cAAc,OAAO,IAAI;oBACzB,eAAe,OAAO,KAAK;oBAC3B,eAAe,OAAO,KAAK;oBAC3B,iBAAiB,OAAO,OAAO;oBAC/B,MAAM,OAAO,IAAI;oBACjB,SAAS,OAAO,OAAO;oBACvB,SAAS,OAAO,GAAG;oBACnB,eAAe,OAAO,OAAO;oBAC7B;oBACA,GAAG,MAAM;gBACb;gBACA,aAAa;YACf,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,2BAA2B;YAC3C,SAAU;gBACR,cAAc;YAChB;QACF;IACF;IAEA,qBACE,8OAAC;QACC,UAAU,OAAO,YAAY;QAC7B,WAAU;kBAEV,cAAA,8OAAC;YAAG,WAAU;sBAAoC;;;;;;;;;;;AAIxD","debugId":null}},
    {"offset": {"line": 420, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HomePC/Desktop/hng-stage3-ly/src/app/checkout/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { Suspense } from 'react';\r\nimport Summary from '@/components/Summary/Summary';\r\nimport Form from '@/components/Form/Form';\r\nimport { motion } from 'framer-motion';\r\n\r\nconst LoadingFallback: React.FC = () => {\r\n  return (\r\n    <div className=\"flex justify-center items-center min-h-screen\">\r\n      <div className=\"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-dark-salmon\"></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst CheckoutContent: React.FC = () => {\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, x: -10 }}\r\n      animate={{\r\n        opacity: 1,\r\n        x: 0,\r\n        transition: {\r\n          duration: 0.8,\r\n        },\r\n      }}\r\n      className=\"m-auto lg:max-w-[1110px] md:max-w-[689px] sm:max-w-[327px] lg:py-[160px] md:py-[120px] sm:py-[64px] flex lg:flex-row md:flex-col sm:flex-col lg:gap-x-[30px] gap-y-8\"\r\n    >\r\n      <div className=\"lg:flex-[2] w-full bg-white rounded-lg p-12 flex flex-col gap-y-8\">\r\n        <h3 className=\"text-[32px]\">Checkout</h3>\r\n        <Form />\r\n      </div>\r\n      <div className=\"lg:flex-1 w-full bg-white rounded-lg p-8\">\r\n        <Summary />\r\n      </div>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nconst Checkout: React.FC = () => {\r\n  return (\r\n    <Suspense fallback={<LoadingFallback />}>\r\n      <CheckoutContent />\r\n    </Suspense>\r\n  );\r\n};\r\n\r\nexport default Checkout;"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOA,MAAM,kBAA4B;IAChC,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;;;;;;;;;;AAGrB;AAEA,MAAM,kBAA4B;IAChC,qBACE,8OAAC,oMAAM,CAAC,GAAG;QACT,SAAS;YAAE,SAAS;YAAG,GAAG,CAAC;QAAG;QAC9B,SAAS;YACP,SAAS;YACT,GAAG;YACH,YAAY;gBACV,UAAU;YACZ;QACF;QACA,WAAU;;0BAEV,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAc;;;;;;kCAC5B,8OAAC,6IAAI;;;;;;;;;;;0BAEP,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,mJAAO;;;;;;;;;;;;;;;;AAIhB;AAEA,MAAM,WAAqB;IACzB,qBACE,8OAAC,iNAAQ;QAAC,wBAAU,8OAAC;;;;;kBACnB,cAAA,8OAAC;;;;;;;;;;AAGP;uCAEe","debugId":null}}]
}