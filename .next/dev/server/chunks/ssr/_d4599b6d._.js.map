{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HomePC/Desktop/tspmo/audiophile-ecomm/src/components/Summary/Summary.jsx"],"sourcesContent":["\"use client\"\r\nimport Image from \"next/image\"\r\nimport React, { useContext, useEffect, useState } from \"react\"\r\nimport { CartContext } from \"@/context/CartContext\"\r\nimport { motion } from \"framer-motion\"\r\n\r\nexport default function Summary() {\r\n  const { cart, totalPriceCalc } = useContext(CartContext)\r\n  const [mounted, setMounted] = useState(false)\r\n\r\n  useEffect(() => {\r\n    setMounted(true)\r\n  }, [])\r\n\r\n  if (!mounted) return null\r\n\r\n  const cartTotal = totalPriceCalc()\r\n\r\n  return (\r\n    <div className=\"flex flex-col gap-y-8\">\r\n      <div className=\"flex justify-between\">\r\n        <h6>Summary</h6>\r\n      </div>\r\n      {cart.length !== 0 ? (\r\n        cart.map((item) => (\r\n          <div\r\n            key={item.id}\r\n            className=\"flex w-full justify-between items-center gap-x-4 pb-6\"\r\n          >\r\n            <div className=\"w-[64px] h-[64px]\">\r\n              <Image\r\n                src={item.image}\r\n                width={64}\r\n                height={64}\r\n                alt={item.name}\r\n                className=\"rounded-md object-cover\"\r\n              />\r\n            </div>\r\n            <div className=\"flex flex-1 items-start flex-col\">\r\n              <h6 className=\"text-[15px] tracking-normal\">{item.name}</h6>\r\n              <p className=\"font-bold text-black/50\">\r\n                ${item.price.toLocaleString()}\r\n              </p>\r\n            </div>\r\n            <div className=\"h-[49px]\">\r\n              <p className=\"text-black/50 font-bold\">x{item.quantity}</p>\r\n            </div>\r\n          </div>\r\n        ))\r\n      ) : (\r\n        <p className=\"text-center text-black/50\">Your cart is empty!</p>\r\n      )}\r\n      <div className=\"flex flex-col gap-y-3\">\r\n        <div className=\"flex justify-between\">\r\n          <p className=\"uppercase text-black/50\">Total</p>\r\n          <h6>${cartTotal.toLocaleString()}</h6>\r\n        </div>\r\n        <div className=\"flex justify-between\">\r\n          <p className=\"uppercase text-black/50\">Shipping</p>\r\n          <h6>${cartTotal !== 0 ? \"50\" : \"0\"}</h6>\r\n        </div>\r\n        <div className=\"flex justify-between\">\r\n          <p className=\"uppercase text-black/50\">VAT (Included)</p>\r\n          <h6>${Math.floor((cartTotal * 20) / 100).toLocaleString()}</h6>\r\n        </div>\r\n        <div className=\"flex justify-between mt-4\">\r\n          <p className=\"uppercase text-black/50\">Grand Total</p>\r\n          <h6 className=\"text-dark-salmon\">\r\n            ${cartTotal !== 0 ? (cartTotal + 50).toLocaleString() : \"0\"}\r\n          </h6>\r\n        </div>\r\n      </div>\r\n      <motion.button\r\n        className=\"mt-8 bg-dark-salmon text-white font-bold uppercase w-full h-[48px] text-[13px] tracking-[1px] disabled:opacity-50 hover:bg-salmon\"\r\n        form=\"checkout-form\"\r\n        type=\"submit\"\r\n        disabled={cart.length === 0}\r\n        whileHover={{ scale: 1.05 }}\r\n        whileTap={{ scale: 0.95 }}\r\n      >\r\n        Continue & Pay\r\n      </motion.button>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AAJA;;;;;;AAMe,SAAS;IACtB,MAAM,EAAE,IAAI,EAAE,cAAc,EAAE,GAAG,IAAA,mNAAU,EAAC,4IAAW;IACvD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,WAAW;IACb,GAAG,EAAE;IAEL,IAAI,CAAC,SAAS,OAAO;IAErB,MAAM,YAAY;IAElB,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;8BAAG;;;;;;;;;;;YAEL,KAAK,MAAM,KAAK,IACf,KAAK,GAAG,CAAC,CAAC,qBACR,8OAAC;oBAEC,WAAU;;sCAEV,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC,wIAAK;gCACJ,KAAK,KAAK,KAAK;gCACf,OAAO;gCACP,QAAQ;gCACR,KAAK,KAAK,IAAI;gCACd,WAAU;;;;;;;;;;;sCAGd,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAG,WAAU;8CAA+B,KAAK,IAAI;;;;;;8CACtD,8OAAC;oCAAE,WAAU;;wCAA0B;wCACnC,KAAK,KAAK,CAAC,cAAc;;;;;;;;;;;;;sCAG/B,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAE,WAAU;;oCAA0B;oCAAE,KAAK,QAAQ;;;;;;;;;;;;;mBAnBnD,KAAK,EAAE;;;;0CAwBhB,8OAAC;gBAAE,WAAU;0BAA4B;;;;;;0BAE3C,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAE,WAAU;0CAA0B;;;;;;0CACvC,8OAAC;;oCAAG;oCAAE,UAAU,cAAc;;;;;;;;;;;;;kCAEhC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAE,WAAU;0CAA0B;;;;;;0CACvC,8OAAC;;oCAAG;oCAAE,cAAc,IAAI,OAAO;;;;;;;;;;;;;kCAEjC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAE,WAAU;0CAA0B;;;;;;0CACvC,8OAAC;;oCAAG;oCAAE,KAAK,KAAK,CAAC,AAAC,YAAY,KAAM,KAAK,cAAc;;;;;;;;;;;;;kCAEzD,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAE,WAAU;0CAA0B;;;;;;0CACvC,8OAAC;gCAAG,WAAU;;oCAAmB;oCAC7B,cAAc,IAAI,CAAC,YAAY,EAAE,EAAE,cAAc,KAAK;;;;;;;;;;;;;;;;;;;0BAI9D,8OAAC,oLAAM,CAAC,MAAM;gBACZ,WAAU;gBACV,MAAK;gBACL,MAAK;gBACL,UAAU,KAAK,MAAM,KAAK;gBAC1B,YAAY;oBAAE,OAAO;gBAAK;gBAC1B,UAAU;oBAAE,OAAO;gBAAK;0BACzB;;;;;;;;;;;;AAKP","debugId":null}},
    {"offset": {"line": 270, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HomePC/Desktop/tspmo/audiophile-ecomm/src/components/Modal/ThankYouModal.jsx"],"sourcesContent":["\"use client\"\r\n\r\nimport Modal from \"react-modal\"\r\nimport Link from \"next/link\"\r\nimport { CartContext } from \"@/context/CartContext\"\r\nimport { useContext, useState } from \"react\"\r\nimport Image from \"next/image\"\r\nimport { motion } from \"framer-motion\"\r\n\r\nconst ThankYouModal = ({ showModal, modelState }) => {\r\n  const [seeMore, setSeeMore] = useState(false)\r\n  const { cart, totalPriceCalc } = useContext(CartContext)\r\n\r\n  const cartTotal = totalPriceCalc()\r\n\r\n  return (\r\n    <Modal\r\n      ariaHideApp={false}\r\n      isOpen={showModal}\r\n      onRequestClose={modelState}\r\n      style={{\r\n        overlay: {\r\n          position: \"fixed\",\r\n          top: 0,\r\n          left: 0,\r\n          right: 0,\r\n          bottom: 0,\r\n          backgroundColor: \"rgba(0,0,0,0.75)\",\r\n          zIndex: 20,\r\n        },\r\n        content: {\r\n          position: \"absolute\",\r\n          maxHeight: \"713px\",\r\n          height: \"fit-content\",\r\n          width: \"clamp(5%, 540px, 90%)\",\r\n          top: \"110px\",\r\n          left: \"50%\",\r\n          transform: \"translateX(-50%)\",\r\n          border: \"1px solid #ccc\",\r\n          background: \"white\",\r\n          overflow: \"auto\",\r\n          borderRadius: \"8px\",\r\n          outline: \"none\",\r\n          padding: \"24px\",\r\n        },\r\n      }}\r\n      contentLabel=\"Thank You Modal\"\r\n    >\r\n      <div className=\"flex flex-col gap-y-6\">\r\n        <div>\r\n          <svg\r\n            width=\"64\"\r\n            height=\"64\"\r\n            viewBox=\"0 0 64 64\"\r\n            fill=\"none\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n          >\r\n            <circle cx=\"32\" cy=\"32\" r=\"32\" fill=\"#D87D4A\" />\r\n            <path\r\n              d=\"M20.7539 33.3328L27.5054 40.0843L43.3085 24.2812\"\r\n              stroke=\"white\"\r\n              strokeWidth=\"4\"\r\n            />\r\n          </svg>\r\n        </div>\r\n\r\n        <div>\r\n          <h3>\r\n            Thank you\r\n            <br />\r\n            for your order\r\n          </h3>\r\n          <p className=\"text-black/50 pt-4\">\r\n            You will receive an email confirmation shortly.\r\n          </p>\r\n        </div>\r\n\r\n        {cart.length > 0 && (\r\n          <div className=\"w-full bg-grey rounded-md flex flex-row justify-between sm:flex-col\">\r\n            <div className=\"flex flex-col p-[24px] w-[248px] sm:w-full\">\r\n              <div className=\"flex flex-col gap-y-4 mb-4\">\r\n                {!seeMore ? (\r\n                  <div className=\"flex justify-between w-full\">\r\n                    <div className=\"w-[50px] h-[50px] relative\">\r\n                      <Image\r\n                        src={cart[0].image}\r\n                        width={40}\r\n                        height={40}\r\n                        alt={cart[0].name}\r\n                        className=\"object-cover m-auto pt-[5px]\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"flex-1 pl-2\">\r\n                      <p className=\"text-[15px] text-black font-bold uppercase\">\r\n                        {cart[0].name.split(\" \")[0]}\r\n                      </p>\r\n                      <p className=\"text-[14px] text-black/50 font-bold uppercase\">\r\n                        ${cart[0].price.toLocaleString()}\r\n                      </p>\r\n                    </div>\r\n                    <div className=\"font-bold text-black/50 text-[15px]\">\r\n                      x{cart[0].quantity}\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  cart.map((item) => (\r\n                    <div key={item.id} className=\"flex justify-between w-full\">\r\n                      <div className=\"w-[50px] h-[50px] relative\">\r\n                        <Image\r\n                          src={item.image}\r\n                          width={40}\r\n                          height={40}\r\n                          alt={item.name}\r\n                          className=\"object-cover m-auto pt-[5px]\"\r\n                        />\r\n                      </div>\r\n                      <div className=\"flex-1 pl-2\">\r\n                        <p className=\"text-[15px] text-black font-bold uppercase\">\r\n                          {item.name.split(\" \")[0]}\r\n                        </p>\r\n                        <p className=\"text-[14px] text-black/50 font-bold uppercase\">\r\n                          ${item.price.toLocaleString()}\r\n                        </p>\r\n                      </div>\r\n                      <div className=\"font-bold text-black/50 text-[15px]\">\r\n                        x{item.quantity}\r\n                      </div>\r\n                    </div>\r\n                  ))\r\n                )}\r\n              </div>\r\n              <div className=\"border-t border-gray w-full\">\r\n                {cart.length > 1 && (\r\n                  <button\r\n                    className=\"block py-2 w-fit m-auto font-bold text-black/50 text-[12px] hover:text-black/30\"\r\n                    onClick={() => setSeeMore(!seeMore)}\r\n                  >\r\n                    {!seeMore\r\n                      ? `and ${cart.length - 1} other item(s)`\r\n                      : \"View less\"}\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"w-[198px] sm:w-full sm:h-[100px] bg-black rounded-r-md sm:rounded-b-md sm:rounded-t-none flex flex-col sm:justify-center justify-end items-center sm:items-start sm:pl-[24px] gap-y-1\">\r\n              <p className=\"text-[15px] text-white/50 font-medium uppercase w-[70%]\">\r\n                Grand Total\r\n              </p>\r\n              <p className=\"text-[18px] text-white font-bold uppercase w-[70%] pb-[25%] sm:pb-0\">\r\n                ${cartTotal.toLocaleString()}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <Link href=\"/\" onClick={modelState}>\r\n          <motion.button\r\n            className=\"mt-4 bg-dark-salmon text-white font-bold uppercase w-full h-[48px] text-[13px] tracking-[1px] hover:bg-salmon\"\r\n            whileHover={{ scale: 1.05 }}\r\n            whileTap={{ scale: 0.95 }}\r\n          >\r\n            Back to home\r\n          </motion.button>\r\n        </Link>\r\n      </div>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default ThankYouModal\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 635, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HomePC/Desktop/tspmo/audiophile-ecomm/convex/_generated/api.js"],"sourcesContent":["/* eslint-disable */\n/**\n * Generated `api` utility.\n *\n * THIS CODE IS AUTOMATICALLY GENERATED.\n *\n * To regenerate, run `npx convex dev`.\n * @module\n */\n\nimport { anyApi, componentsGeneric } from \"convex/server\";\n\n/**\n * A utility for referencing Convex functions in your app's API.\n *\n * Usage:\n * ```js\n * const myFunctionReference = api.myModule.myFunction;\n * ```\n */\nexport const api = anyApi;\nexport const internal = anyApi;\nexport const components = componentsGeneric();\n"],"names":[],"mappings":"AAAA,kBAAkB,GAClB;;;;;;;CAOC;;;;;;;;AAED;AAAA;AAAA;;AAUO,MAAM,MAAM,gKAAM;AAClB,MAAM,WAAW,gKAAM;AACvB,MAAM,aAAa,IAAA,2MAAiB","debugId":null}},
    {"offset": {"line": 661, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HomePC/Desktop/tspmo/audiophile-ecomm/src/components/Form/Form.jsx"],"sourcesContent":["\"use client\"\r\n\r\nimport React, { useState, useContext } from \"react\"\r\nimport { useFormik } from \"formik\"\r\nimport * as Yup from \"yup\"\r\nimport ThankYouModal from \"../Modal/ThankYouModal\"\r\nimport { useMutation } from \"convex/react\"\r\nimport { api } from \"../../../convex/_generated/api\"\r\nimport { CartContext } from \"@/context/CartContext\"\r\nimport { useRouter } from \"next/navigation\"\r\n\r\nexport default function Form() {\r\n  const { cart, clearCart, totalPriceCalc } = useContext(CartContext)\r\n  const createOrderMutation = useMutation(api.orders.createOrder)\r\n  const router = useRouter()\r\n  const [showModal, setShowModal] = useState(false)\r\n  const [submitting, setSubmitting] = useState(false)\r\n\r\n  const phoneRegExp =\r\n    /^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      name: \"\",\r\n      email: \"\",\r\n      phone: \"\",\r\n      address: \"\",\r\n      zip: \"\",\r\n      city: \"\",\r\n      country: \"\",\r\n      payment: \"\",\r\n    },\r\n    validationSchema: Yup.object({\r\n      name: Yup.string().required(\"Your name is required\"),\r\n      email: Yup.string()\r\n        .email(\"Wrong format\")\r\n        .required(\"Your email is required\"),\r\n      phone: Yup.string()\r\n        .matches(phoneRegExp, \"Wrong format\")\r\n        .required(\"Your phone number is required\"),\r\n      address: Yup.string().required(\"Your address is required\"),\r\n      zip: Yup.string().required(\"Zip code is required\"),\r\n      city: Yup.string().required(\"Your city is required\"),\r\n      country: Yup.string().required(\"Your country is required\"),\r\n      payment: Yup.string()\r\n        .required(\"Select a payment method\")\r\n        .oneOf([\"eMoney\", \"cod\"]),\r\n    }),\r\n    onSubmit: async (values) => {\r\n      console.log(\"Submitting order...\")\r\n\r\n      if (!cart.length) return alert(\"Cart is empty\")\r\n      setSubmitting(true)\r\n\r\n      const orderData = {\r\n        customerName: values.name,\r\n        customerEmail: values.email,\r\n        customerPhone: values.phone,\r\n        shippingAddress: values.address,\r\n        city: values.city,\r\n        country: values.country,\r\n        zipCode: values.zip,\r\n        items: cart.map((item) => ({\r\n          productId: String(item.id),\r\n          name: item.name,\r\n          price: Number(item.price),\r\n          quantity: Number(item.quantity),\r\n          image: item.image,\r\n        })),\r\n        subtotal: totalPriceCalc(),\r\n        shipping: 50,\r\n        tax: totalPriceCalc() * 0.1,\r\n        grandTotal: totalPriceCalc() + 50 + totalPriceCalc() * 0.1,\r\n        paymentMethod: values.payment,\r\n      }\r\n\r\n      try {\r\n        console.log(\"Step 1: Creating order in Convex...\")\r\n        const orderId = await createOrderMutation(orderData)\r\n        console.log(\"Step 2: Order created:\", orderId)\r\n\r\n        console.log(\"Step 3: Sending confirmation email...\")\r\n        const res = await fetch(\"/api/sendConfirmation\", {\r\n          method: \"POST\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({\r\n            orderId,\r\n            customer: { name: values.name, email: values.email },\r\n            items: cart,\r\n            total: orderData.grandTotal,\r\n          }),\r\n        })\r\n\r\n        const emailResponse = await res.json()\r\n        console.log(\"Email response:\", emailResponse)\r\n\r\n        if (!res.ok) throw new Error(emailResponse.error || \"Email failed\")\r\n\r\n        console.log(\"Step 4: Clearing cart + showing modal\")\r\n        clearCart()\r\n        setShowModal(true)\r\n      } catch (err) {\r\n        console.error(\"Order submission failed:\", err)\r\n        alert(\"Something went wrong. Check console.\")\r\n      } finally {\r\n        setSubmitting(false)\r\n      }\r\n    },\r\n  })\r\n\r\n  const handleModalClose = () => {\r\n    setShowModal(false)\r\n    router.push(\"/order-confirmation\")\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <form\r\n        id=\"checkout-form\"\r\n        onSubmit={(e) => {\r\n          e.preventDefault()\r\n          console.log(\"Form submit clicked\")\r\n          formik.handleSubmit()\r\n        }}\r\n      >\r\n        {/* BILLING DETAILS */}\r\n        <div className=\"pb-[53px]\">\r\n          <p className=\"sub-title text-dark-salmon pb-3\">Billing Details</p>\r\n          <div className=\"flex flex-wrap w-full justify-between gap-y-6\">\r\n            {[\r\n              {\r\n                label: \"Name\",\r\n                name: \"name\",\r\n                type: \"text\",\r\n                placeholder: \"Your Name\",\r\n              },\r\n              {\r\n                label: \"Email Address\",\r\n                name: \"email\",\r\n                type: \"email\",\r\n                placeholder: \"Your Email\",\r\n              },\r\n              {\r\n                label: \"Phone Number\",\r\n                name: \"phone\",\r\n                type: \"text\",\r\n                placeholder: \"Your Phone Number\",\r\n              },\r\n            ].map((field) => (\r\n              <div key={field.name} className=\"w-[309px]\">\r\n                <label\r\n                  className={`text-xs font-bold block mb-2 ${\r\n                    formik.touched[field.name] && formik.errors[field.name]\r\n                      ? \"text-red-700\"\r\n                      : \"text-black\"\r\n                  }`}\r\n                >\r\n                  {field.label}\r\n                  <p className=\"text-xs text-red-700\">\r\n                    {formik.touched[field.name] && formik.errors[field.name]}\r\n                  </p>\r\n                </label>\r\n                <input\r\n                  {...field}\r\n                  onChange={formik.handleChange}\r\n                  onBlur={formik.handleBlur}\r\n                  value={formik.values[field.name]}\r\n                  className={`block rounded-md w-full h-[56px] text-black font-bold text-[14px] px-[24px] placeholder:text-black/40 ${\r\n                    formik.touched[field.name] && formik.errors[field.name]\r\n                      ? \"border-red-700 border-2\"\r\n                      : \"border-grey border\"\r\n                  }`}\r\n                />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* SHIPPING INFO */}\r\n        <div className=\"pb-[53px]\">\r\n          <p className=\"sub-title text-dark-salmon pb-3\">Shipping Info</p>\r\n          <div className=\"flex flex-wrap w-full justify-between gap-y-6\">\r\n            {[\r\n              {\r\n                label: \"Address\",\r\n                name: \"address\",\r\n                placeholder: \"1137 Williams Avenue\",\r\n                full: true,\r\n              },\r\n              { label: \"ZIP Code\", name: \"zip\", placeholder: \"10001\" },\r\n              { label: \"City\", name: \"city\", placeholder: \"New York\" },\r\n              {\r\n                label: \"Country\",\r\n                name: \"country\",\r\n                placeholder: \"United States\",\r\n              },\r\n            ].map((field) => (\r\n              <div\r\n                key={field.name}\r\n                className={field.full ? \"w-full\" : \"w-[309px]\"}\r\n              >\r\n                <label\r\n                  className={`text-xs font-bold block mb-2 ${\r\n                    formik.touched[field.name] && formik.errors[field.name]\r\n                      ? \"text-red-700\"\r\n                      : \"text-black\"\r\n                  }`}\r\n                >\r\n                  {field.label}\r\n                  <p className=\"text-xs text-red-700\">\r\n                    {formik.touched[field.name] && formik.errors[field.name]}\r\n                  </p>\r\n                </label>\r\n                <input\r\n                  name={field.name}\r\n                  type=\"text\"\r\n                  placeholder={field.placeholder}\r\n                  onChange={formik.handleChange}\r\n                  onBlur={formik.handleBlur}\r\n                  value={formik.values[field.name]}\r\n                  className={`block rounded-md w-full h-[56px] text-black font-bold text-[14px] px-[24px] placeholder:text-black/40 ${\r\n                    formik.touched[field.name] && formik.errors[field.name]\r\n                      ? \"border-red-700 border-2\"\r\n                      : \"border-grey border\"\r\n                  }`}\r\n                />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* PAYMENT */}\r\n        <div className=\"pb-[53px] sm:w-full\">\r\n          <p className=\"sub-title text-dark-salmon pb-3\">Payment Details</p>\r\n          <div className=\"flex w-full h-[128px] mb-5 sm:flex-col\">\r\n            <div className=\"flex-1\">\r\n              <p\r\n                className={`text-xs font-bold ${\r\n                  formik.touched.payment && formik.errors.payment\r\n                    ? \"text-red-700\"\r\n                    : \"text-black\"\r\n                }`}\r\n              >\r\n                Payment Method\r\n              </p>\r\n              <p className=\"mt-2 text-xs text-red-700\">\r\n                {formik.touched.payment && formik.errors.payment}\r\n              </p>\r\n            </div>\r\n            <div className=\"flex-1\">\r\n              <label className=\"text-xs font-bold block mb-2 rounded-md border w-full h-[56px] border-grey bg-white items-center px-4 gap-x-3 hover:border-dark-salmon\">\r\n                <input\r\n                  name=\"payment\"\r\n                  value=\"eMoney\"\r\n                  type=\"radio\"\r\n                  onChange={formik.handleChange}\r\n                />{\" \"}\r\n                e-Money\r\n              </label>\r\n              <label className=\"text-xs font-bold block mb-2 rounded-md border w-full h-[56px] border-grey bg-white items-center px-4 gap-x-3 hover:border-dark-salmon\">\r\n                <input\r\n                  name=\"payment\"\r\n                  value=\"cod\"\r\n                  type=\"radio\"\r\n                  onChange={formik.handleChange}\r\n                />{\" \"}\r\n                Cash on Delivery\r\n              </label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          disabled={submitting}\r\n          className=\"bg-dark-salmon text-white py-3 px-6 rounded-md font-bold\"\r\n        >\r\n          {submitting ? \"Processing...\" : \"Confirm Order\"}\r\n        </button>\r\n      </form>\r\n\r\n      {/* âœ… Modal always rendered */}\r\n      <ThankYouModal showModal={showModal} modelState={handleModalClose} />\r\n    </>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1089, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HomePC/Desktop/tspmo/audiophile-ecomm/src/app/checkout/page.jsx"],"sourcesContent":["\"use client\"\r\n\r\nimport Link from \"next/link\"\r\nimport { useEffect, useState } from \"react\"\r\nimport Summary from \"@/components/Summary/Summary\"\r\nimport Form from \"@/components/Form/Form\"\r\nimport { usePathname, useSearchParams } from \"next/navigation\"\r\nimport { motion } from \"framer-motion\"\r\n\r\nexport default function checkout() {\r\n  const pathName = usePathname()\r\n  const searchParams = useSearchParams()\r\n  const [domLoaded, setDomLoaded] = useState(false)\r\n\r\n  console.log(pathName)\r\n\r\n  useEffect(() => {\r\n    setDomLoaded(true)\r\n  }, [])\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, x: -10 }}\r\n      animate={{\r\n        opacity: 1,\r\n        x: 0,\r\n        transition: {\r\n          duration: 0.8,\r\n        },\r\n      }}\r\n      exit={{ opacity: 0, x: 10 }}\r\n      className=\"bg-grey\"\r\n    >\r\n      <div className=\"lg:h-[97px] md:h-[89px] sm:h-[89px] bg-black\"></div>\r\n      <section className=\"flex lg:w-[1110px] md:w-[689px] sm:w-[327px] m-auto font-medium flex-col\">\r\n        <Link\r\n          href={`/`}\r\n          className=\"block mb-10 sm:mb-6 text-black/50 pt-[79px] sm:pt-[16px] w-fit hover:text-dark-salmon ease-in-out duration-300\"\r\n        >\r\n          Go Back\r\n        </Link>\r\n        <div className=\"flex lg:flex-row md:flex-col sm:flex-col lg:justify-between gap-y-[32px] md:justify-start lg:h-[1126px] md:h-[1777px] lg:mb-[141px] md:mb-0 sm:mb-[97px]\">\r\n          <div className=\"lg:w-[66%] sm:w-full md:w-full bg-white rounded-md pt-[54px] sm:pt-[24px] px-[28px] flex flex-col justify-start gap-y-6\">\r\n            <h3>Checkout</h3>\r\n            <Form />\r\n          </div>\r\n          <div className=\"block lg:h-fit sm:w-full md:h-auto lg:min-h-[612px] md:min-h-[612px] lg:w-[32%] md:w-[100%] bg-white rounded-md px-[33px] py-[32px] sm:py-[24px]\">\r\n            {domLoaded && <Summary />}\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </motion.div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;AASe,SAAS;IACtB,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,eAAe,IAAA,qJAAe;IACpC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAE3C,QAAQ,GAAG,CAAC;IAEZ,IAAA,kNAAS,EAAC;QACR,aAAa;IACf,GAAG,EAAE;IAEL,qBACE,8OAAC,oLAAM,CAAC,GAAG;QACT,SAAS;YAAE,SAAS;YAAG,GAAG,CAAC;QAAG;QAC9B,SAAS;YACP,SAAS;YACT,GAAG;YACH,YAAY;gBACV,UAAU;YACZ;QACF;QACA,MAAM;YAAE,SAAS;YAAG,GAAG;QAAG;QAC1B,WAAU;;0BAEV,8OAAC;gBAAI,WAAU;;;;;;0BACf,8OAAC;gBAAQ,WAAU;;kCACjB,8OAAC,uKAAI;wBACH,MAAM,CAAC,CAAC,CAAC;wBACT,WAAU;kCACX;;;;;;kCAGD,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;kDAAG;;;;;;kDACJ,8OAAC,6IAAI;;;;;;;;;;;0CAEP,8OAAC;gCAAI,WAAU;0CACZ,2BAAa,8OAAC,mJAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMlC","debugId":null}}]
}