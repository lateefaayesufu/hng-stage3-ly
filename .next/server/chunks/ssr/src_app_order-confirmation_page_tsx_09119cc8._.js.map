{"version":3,"sources":["turbopack:///[project]/src/app/order-confirmation/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport { useQuery } from \"convex/react\"\r\nimport { api } from \"../../../convex/_generated/api\"\r\nimport Link from \"next/link\"\r\nimport { Doc } from \"../../../convex/_generated/dataModel\"\r\n\r\ntype Order = Doc<\"orders\">\r\n\r\nexport default function OrderConfirmation() {\r\n  const [latestOrder, setLatestOrder] = useState<Order | null>(null)\r\n  const orders = useQuery(api.orders.getAllOrders) || []\r\n\r\n  useEffect(() => {\r\n    if (orders.length > 0) {\r\n      // Sort by creation time if needed (optional safety)\r\n      const sorted = [...orders].sort(\r\n        (a, b) => b._creationTime - a._creationTime,\r\n      )\r\n      setLatestOrder(sorted[0])\r\n    }\r\n  }, [orders])\r\n\r\n  if (!latestOrder) {\r\n    return (\r\n      <div className=\"flex justify-center items-center h-screen\">\r\n        <p className=\"text-lg font-medium\">Loading your order...</p>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-[1110px] m-auto my-20 p-6 bg-white rounded-lg shadow-md\">\r\n      <h2 className=\"text-2xl font-bold mb-4 text-dark-salmon\">\r\n        Thank you for your order, {latestOrder.customerName}!\r\n      </h2>\r\n      <p className=\"mb-6 text-black/70\">\r\n        Your order ID is{\" \"}\r\n        <strong className=\"text-black/90\">{latestOrder._id}</strong>\r\n      </p>\r\n\r\n      <div className=\"bg-grey/10 p-6 rounded-md border border-grey/30\">\r\n        <h3 className=\"font-bold mb-3 text-lg\">Order Summary</h3>\r\n        {latestOrder.items.map((item) => (\r\n          <div\r\n            key={item.productId}\r\n            className=\"flex justify-between border-b border-gray-200 py-2 text-[15px]\"\r\n          >\r\n            <span className=\"font-medium text-black/80\">\r\n              {item.name} x{item.quantity}\r\n            </span>\r\n            <span className=\"font-semibold text-black/90\">\r\n              ${item.price.toLocaleString()}\r\n            </span>\r\n          </div>\r\n        ))}\r\n        <div className=\"flex justify-between mt-4 font-bold text-lg\">\r\n          <span>Grand Total:</span>\r\n          <span className=\"text-dark-salmon\">\r\n            ${latestOrder.grandTotal.toLocaleString()}\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      <Link\r\n        href=\"/\"\r\n        className=\"mt-8 inline-block bg-dark-salmon hover:bg-salmon transition text-white py-3 px-6 rounded-md font-bold\"\r\n      >\r\n        Back to Home\r\n      </Link>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,MACA,EAAA,EAAA,CAAA,CAAA,OAKe,SAAS,IACtB,GAAM,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAe,MACvD,EAAS,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,EAAA,GAAG,CAAC,MAAM,CAAC,YAAY,GAAK,EAAE,OAYtD,CAVA,CAAA,EAAA,AAUI,EAVJ,SAAA,AAAS,EAAC,KACJ,EAAO,MAAM,CAAG,GAKlB,AALqB,EAEN,AAGA,IAHI,EAAO,CAAC,IAAI,CAC7B,CAAC,EAAG,IAAM,EAAE,aAAa,CAAG,EAAE,aAAa,CAExB,CAAC,EAAE,CAE5B,EAAG,CAAC,EAAO,EAEN,GASH,CAAA,EAAA,EAAA,IAAA,CATgB,CASf,MAAA,CAAI,UAAU,0EACb,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,qDAA2C,6BAC5B,EAAY,YAAY,CAAC,OAEtD,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,+BAAqB,mBACf,IACjB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,UAAU,yBAAiB,EAAY,GAAG,MAGpD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4DACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,kCAAyB,kBACtC,EAAY,KAAK,CAAC,GAAG,CAAC,AAAC,GACtB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAEC,UAAU,2EAEV,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,sCACb,EAAK,IAAI,CAAC,KAAG,EAAK,QAAQ,IAE7B,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,wCAA8B,IAC1C,EAAK,KAAK,CAAC,cAAc,QAPxB,EAAK,SAAS,GAWvB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wDACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,iBACN,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,6BAAmB,IAC/B,EAAY,UAAU,CAAC,cAAc,YAK7C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CACH,KAAK,IACL,UAAU,iHACX,oBA1CD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qDACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,+BAAsB,2BA8C3C"}